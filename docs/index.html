<html>
  <head>
    <title>uTerm Example</title>
    <link href="resources/style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="resources/uterm.js"></script> 
    <style>
      #terminal {
          background: black;
          font-size: 13px;
          font-family: Andale Mono, Droid Sans Mono, Consolas, monospace;
          color: white;
          width: 480px;
          height: 360px;
          line-height: 110%;
          border: 2px solid black;
      }
    </style>
  </head>
  <body>
    <h2>uTerm Example</h2>
    <input type="text" id="send-string"/>
    <button id="send-string-btn">send text to terminal</button>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <select id="send-ascii">
      <option value="0">0 - NULL</option>
      <option value="7">7 - BELL</option>
    </select>
    <button id="send-ascii-btn">send ASCII character to terminal</button>

    <div id="terminal"></div>

    <textarea id="output"></textarea>
    <script>
      var term = new uTerm(document.getElementById('terminal'), function(characterToSend) {
        for (var i = 0; i < characterToSend.length; i++) {
          if (characterToSend.charCodeAt(0) < 32 || characterToSend.charCodeAt(0) > 126) {
            document.getElementById('output').value += '[' + characterToSend.charCodeAt(0).toString(10) + ']';
          } else {
            document.getElementById('output').value += characterToSend[i];
          }
        }
           
      });
      
      document.getElementById('send-string-btn').addEventListener('click', function () {
        var textInput = document.getElementById('send-string');
        term.display(textInput.value.replace(/\\r/g, '\r').replace(/\\n/g, '\n'));
        textInput.value = '';
      });
      
      document.getElementById('send-ascii-btn').addEventListener('click', function () {
        var charInput = document.getElementById('send-ascii');
        term.display(String.fromCharCode(parseInt(charInput.value)));
      });
    </script>
  <body>
</html>
